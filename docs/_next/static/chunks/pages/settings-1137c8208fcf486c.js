(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{2837:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return t(3889)}])},1976:function(e,n,t){"use strict";var i=t(6042),r=t(9396),o=t(5893),s=t(8641),l=t(7294),a=t(2780);function c(e){var n=e.micro,t=e.nutrition,l=e.border,c=void 0===l||l,u=e.showLegend,d=void 0===u?!c:u;return(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsx)(s.rj,(0,r.Z)((0,i.Z)({gridTemplateColumns:"repeat(4, auto)",zIndex:1,gridGap:c?4:6,bg:"white"},c?{boxShadow:"md",rounded:"3xl",p:4,px:d&&c?6:4}:{}),{children:a.$I.map((function(e,n){var i=t[e];return(0,o.jsxs)(s.kC,{direction:"column",textTransform:"capitalize",justify:"center",align:"flex-start",children:[(0,o.jsxs)(s.xv,{color:a.MT[e],fontWeight:"600",fontSize:"xs",children:[Number.isInteger(i)?i:i.toFixed(2),a.sw[e]]}),d&&(0,o.jsx)(s.xv,{fontSize:"xs",children:a.S$[e]})]},n)}))})),n&&a.RX.some((function(e){return n[e]}))?(0,o.jsx)("div",{className:c?"-mt-5 flex justify-center gap-4 rounded-b-3xl bg-gray-100 pt-7 pb-2":"-mt-5 flex gap-2 overflow-x-auto pt-7 pb-2",children:a.RX.filter((function(e){return n[e]})).map((function(e,t,i){var r=i.length-1===t,s=n[e];if(s)return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsxs)("p",{className:"text-center text-sm text-gray-800",children:[s,"g"]}),(0,o.jsx)("p",{className:"text-sm capitalize text-gray-500",children:e})]}),c?null:r?"":"/"]})}))}):null]})}n.Z=(0,l.memo)(c)},7647:function(e,n,t){"use strict";t.d(n,{T:function(){return a}});var i=t(6042),r=t(9396),o=t(9534),s=t(5893),l=t(8641),a=function(e){var n=e.heading,t=e.children,a=(0,o.Z)(e,["heading","children"]);return(0,s.jsxs)(l.xu,(0,r.Z)((0,i.Z)({py:["2","6","12"],px:["4","16","32"]},a),{children:[n&&"string"===typeof n?(0,s.jsx)(l.X6,{my:"6",children:n}):n,t]}))}},3889:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return N}});var i=t(7568),r=t(9534),o=t(655),s=t(5893),l=t(3382),a=t(8641),c=t(7741),u=t(3234),d=t(1197),h=t(4373),x=t(7026),f=t(2198),m=t(979),p=t(7294),g=t(3990),j=t(8561);function y(e){var n=e.metrics,t=e.onChange;return(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.currentTarget,i=n.activity.value,r=n.gender.value,o=n.age.value,s=n.weight.value,l=n.height.value;t({activity:i,gender:r,age:o,weight:s,height:l})},children:[(0,s.jsxs)(u.NI,{px:1,as:"fieldset",display:"flex",flexDirection:"column",justifyContent:"space-between",my:"2",children:[(0,s.jsx)(u.lX,{as:"legend",children:"Gender"}),(0,s.jsxs)(j.Ee,{display:"flex",justifyContent:"space-between",name:"gender",defaultValue:n.gender,children:[(0,s.jsx)(j.Y8,{name:"gender",value:"female",children:"\ud83d\ude4d\u200d\u2640\ufe0f Female"}),(0,s.jsx)(j.Y8,{name:"gender",value:"male",children:"\ud83d\ude4d\u200d\u2642\ufe0f Male"})]})]}),(0,s.jsxs)(u.NI,{my:"2",px:1,children:[(0,s.jsx)(u.lX,{children:"Age"}),(0,s.jsx)(m.II,{inputMode:"numeric",defaultValue:n.age||void 0,placeholder:"Age in years",name:"age",isRequired:!0})]}),(0,s.jsxs)(a.rj,{my:"2",templateColumns:"repeat(2,1fr)",gap:1,px:1,children:[(0,s.jsxs)(u.NI,{children:[(0,s.jsx)(u.lX,{children:"Height"}),(0,s.jsx)(m.II,{defaultValue:n.height||void 0,inputMode:"numeric",placeholder:"Height in centimeters",isRequired:!0,name:"height"})]}),(0,s.jsxs)(u.NI,{children:[(0,s.jsx)(u.lX,{children:"Weight"}),(0,s.jsx)(m.II,{inputMode:"numeric",defaultValue:n.weight||void 0,placeholder:"Weight in kilograms",isRequired:!0,name:"weight"})]})]}),(0,s.jsxs)(u.NI,{my:"2",px:1,children:[(0,s.jsx)(u.lX,{children:"Activity"}),(0,s.jsxs)(x.Ph,{name:"activity",isRequired:!0,defaultValue:n.activity||void 0,placeholder:"Select your daily activity",children:[(0,s.jsx)("option",{value:"1.2",children:"Little to no exercise"}),(0,s.jsx)("option",{value:"1.375",children:"Light exercise (1-3 days per week)"}),(0,s.jsx)("option",{value:"1.55",children:"Moderate exercise (3-5 days per week)"}),(0,s.jsx)("option",{value:"1.725",children:"Heavy exercise (6-7 days per week)"}),(0,s.jsx)("option",{value:"1.9",children:"Very heavy exercise (twice per day, extra heavy workouts)"})]})]}),(0,s.jsx)(a.xu,{px:1,pt:6,children:(0,s.jsx)(c.zx,{type:"submit",children:"Calculate"})})]})}var v=(0,p.memo)(y),w=t(7647),b=t(1976),C=t(2780),k=t(100),S=t(3437),E=t(5322);function N(){var e=(0,C.oR)(),n=e.dispatch,t=(0,r.Z)(e,["dispatch"]),j=(0,p.useState)(!1),y=j[0],N=j[1],I=(0,p.useState)(!1),z=I[0],T=I[1],O=(0,p.useState)(),R=O[0],X=O[1],_=(0,p.useState)(),A=_[0],V=_[1],Y=(0,p.useState)(!0),L=Y[0],M=Y[1],U=t.body,Z=t.goal,D=t.logs,W=(0,p.useMemo)((function(){return(0,S.kE)(U)}),[U]),q=W.bmr,F=W.caloricNeeds,P=Object.keys(D).length;(0,p.useEffect)((function(){var e=null!==R&&void 0!==R?R:Z.nutrition.calories,t=null!==A&&void 0!==A?A:Z.diet;n({type:C.aO.SET_GOAL,payload:{nutrition:(0,S.Uq)(e,S.E5[t].macros),diet:t}})}),[n,Z.diet,Z.nutrition.calories,R,A]);var Q=function(e,n){var t="You've set a goal within the limits of your maintenance needs. You would continue to have same weight if you maintain your lifestyle.",i="gray.500",r="maintenance",o=50;e<n-o?(t="You've set a goal lower than your maintenance needs. You would lose weight if you continue to stay calorie deficit.",i="red.500",r="deficit"):e>n+o&&(t="You've set a goal higher than your maintenance needs. You would gain weight if you continue to stay calorie surplus.",i="green.500",r="surplus");return{description:t,color:i,text:r}}(Z.nutrition.calories||F.calories,F.calories),G=A||Z.diet,H=0!==F.calories||!!U.height||!!U.weight;return(0,s.jsxs)(w.T,{heading:"Settings",children:[(0,s.jsxs)(a.xu,{mb:"12",as:"section",children:[(0,s.jsxs)(a.X6,{size:"lg",mb:"4",display:"flex",justifyContent:"space-between",alignItems:"center",children:["Maintenance Needs",H&&(0,s.jsx)(c.hU,{isRound:!0,variant:"ghost","aria-label":y?"Collapse":"Expand",onClick:function(){return N(!y)},icon:y?(0,s.jsx)(l.g8,{}):(0,s.jsx)(l.v4,{})})]}),(0,s.jsx)(u.NI,{children:(0,s.jsx)(u.Q6,{children:"These are your daily caloric needs in order to maintain your body weight, based on your body metrics."})}),(0,s.jsx)(d.UO,{in:y||!H,children:(0,s.jsx)(v,{metrics:U,onChange:function(e){return n({type:C.aO.SET_BODY,payload:e})}})}),H&&(0,s.jsx)(a.kC,{mt:"4",align:"center",justify:["center","flex-start"],children:(0,s.jsx)(b.Z,{nutrition:F,showLegend:!0,border:!1})})]}),H&&(0,s.jsxs)(a.xu,{mb:"12",as:"section",children:[(0,s.jsxs)(a.X6,{size:"lg",my:"4",justifyContent:"space-between",alignItems:"center",display:"flex",children:["Your Goal",(0,s.jsx)(h.Vp,{size:"sm",textTransform:"uppercase",color:Q.color,children:Q.text})]}),(0,s.jsx)(a.xv,{fontSize:"sm",children:Q.description}),(0,s.jsxs)(u.NI,{mt:4,mb:4,children:[(0,s.jsxs)(u.lX,{fontSize:"md",display:"flex",alignItems:"center",pr:"0",mt:"2",justifyContent:"space-between",children:[(0,s.jsx)(a.xv,{fontWeight:"bold",children:"Water"}),(0,s.jsxs)(a.xv,{children:[Z.water," mL"]})]}),(0,s.jsxs)(u.Q6,{children:["For ",U.gender,"s, recommended water intake (excluding water content of foods) is ",Z.water," mL"]})]}),(0,s.jsxs)(u.NI,{my:4,children:[(0,s.jsxs)(a.kC,{justify:"space-between",align:"center",children:[(0,s.jsx)(u.lX,{fontSize:"md",mt:"2",flex:.4,fontWeight:"bold",children:"Diet"}),(0,s.jsx)(x.Ph,{size:"sm",variant:"flushed",width:"auto",onChange:function(e){return V(e.currentTarget.value)},defaultValue:G,children:Object.keys(S.E5).map((function(e){return(0,s.jsx)(a.xu,{as:"option",value:e,children:S.E5[e].name},S.E5[e].name)}))})]}),(0,s.jsx)(u.Q6,{my:2,children:S.E5[G].description}),(0,s.jsx)(u.Q6,{children:(0,s.jsx)(a.xu,{children:Object.keys(S.E5[G].macros).map((function(e,n,t){return"".concat((0,E.kC)(e)," - ").concat(100*S.E5[G].macros[e],"% ").concat(n!==t.length-1?" \xb7 ":"")}))})})]}),(0,s.jsx)(u.NI,{my:4,children:(0,s.jsxs)(u.lX,{display:"flex",alignItems:"center",pr:"0",mt:"2",justifyContent:"space-between",children:[(0,s.jsx)(a.xv,{fontSize:"md",textTransform:"capitalize",fontWeight:"bold",children:"Calories"}),(0,s.jsx)(a.xu,{fontSize:"sm",children:(0,s.jsx)(c.zx,{onClick:function(){return M(!L)},size:"sm",variant:L?"ghost":"solid",colorScheme:L?void 0:"green",children:L?"Edit":"Done"})})]})}),(0,s.jsx)(a.kC,{mt:"4",justify:["center","flex-start"],align:"center",children:(0,s.jsx)(b.Z,{nutrition:Z.nutrition,showLegend:!0,border:!1})}),(0,s.jsx)(d.UO,{in:!L,children:(0,s.jsx)(a.xu,{py:2,children:(0,s.jsxs)(f.iR,{step:10,defaultValue:Z.nutrition.calories||F.calories,value:R,onChange:X,isDisabled:L,min:(0,E.mV)(1.05*q),max:(0,E.mV)(2*F.calories-q),children:[(0,s.jsx)(f.Uj,{children:(0,s.jsx)(f.Ms,{bg:Q.color})}),(0,s.jsx)(f.gs,{boxSize:6,bg:Q.color,children:(0,s.jsx)(g.VcR,{color:"white",size:"12"})})]})})})]}),(0,s.jsxs)(a.xu,{mb:"12",as:"section",children:[(0,s.jsxs)(a.X6,{size:"lg",display:"flex",my:"4",justifyContent:"space-between",alignItems:"center",children:["Your Data",(0,s.jsx)(c.hU,{isRound:!0,variant:"ghost","aria-label":z?"Collapse":"Expand",onClick:function(){return T(!z)},icon:z?(0,s.jsx)(l.g8,{}):(0,s.jsx)(l.v4,{})})]}),(0,s.jsx)(u.NI,{children:(0,s.jsx)(u.Q6,{mb:"6",children:"All your data is stored locally on your device."})}),(0,s.jsx)(d.UO,{in:z,children:(0,s.jsxs)(a.kC,{direction:["column","row"],children:[(0,s.jsxs)(c.zx,{my:"2",colorScheme:"blue",mr:[0,"2"],onClick:function(){var e=URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),n=document.createElement("a");n.href=e,n.download="my-calow-data.json",document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(e)},children:["Export as ",(0,s.jsx)(a.EK,{variant:"ghost",children:".json"})]}),(0,s.jsxs)(c.zx,{colorScheme:"teal",onClick:function(){var e;return null===(e=document.querySelector("#import-file-input"))||void 0===e?void 0:e.click()},children:["Import from ",(0,s.jsx)(a.EK,{variant:"ghost",children:".json"})]}),(0,s.jsx)(m.II,{hidden:!0,id:"import-file-input",type:"file",accept:".json",onChange:function(){var e=(0,i.Z)((function(e){var t,i,r,s,l;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),e.target&&e.target.files?[4,(0,k.p)(null===(t=e.target)||void 0===t||null===(i=t.files)||void 0===i?void 0:i[0])]:[3,2];case 1:if(r=o.sent(),!(s=JSON.parse(r)).goal||!s.body||!s.logs)throw new Error("Invalid file");return n({type:C.aO.SET,payload:{goal:s.goal,logs:s.logs,body:s.body,bookmarks:s.bookmarks}}),alert("Successfully imported!"),[3,3];case 2:throw new Error("No file selected");case 3:return[3,5];case 4:return l=o.sent(),alert(l.message),[3,5];case 5:return[2]}}))}));return function(n){return e.apply(this,arguments)}}()}),(0,s.jsx)(c.zx,{my:"2",ml:[0,"2"],variant:"solid",colorScheme:"red",onClick:function(){window.confirm("Are you sure? You'll lose data of ".concat(P," day").concat(1===P?"":"s","."))&&n({type:C.aO.RESET})},children:"Delete My Data"})]})})]})]})}N.pageTitle="Settings"},100:function(e,n,t){"use strict";function i(e,n){var t=e.currentTarget.closest("[data-".concat(n,"]"));return t?t.dataset[n]:null}function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return new Promise((function(t,i){var r=new FileReader;r.onload=function(e){var n;t(null===(n=e.target)||void 0===n?void 0:n.result)},r.onerror=function(){i(r.error),r.abort()},r.readAsText(e,n)}))}t.d(n,{p:function(){return r},x:function(){return i}})},5322:function(e,n,t){"use strict";t.d(n,{NF:function(){return o},YC:function(){return s},kC:function(){return i},mV:function(){return r}});var i=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},r=function(e){return 10*Math.floor(e/10)},o=function(e){return e.match(/[/+/-]/gi)?e.replaceAll(" ","").replaceAll("+","!+").replaceAll("-","!-").split("!").reduce((function(e,n){return e+Number(n)}),0):Number(e.replaceAll(" ",""))};function s(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new Map;return e.forEach((function(e){var t,r=i.get(e[n]);i.set(e[n],{count:(null!==(t=null===r||void 0===r?void 0:r.count)&&void 0!==t?t:0)+1,item:e})})),Array.from(i.values()).sort((function(e,n){return(e.count-n.count)*(t?1:-1)})).map((function(e){return e.item}))}}},function(e){e.O(0,[609,268,426,774,888,179],(function(){return n=2837,e(e.s=n);var n}));var n=e.O();_N_E=n}]);