(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[664],{3742:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var n=r(6265),o=r(5893),a=r(9345),i=r(6729),u=r(6618),c=r(9887),s=r(8017),l=r(7294),d=r(9868),p=r(7664),m=r(6084),h=r(8394),f=r(1163),O=r(4221);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(){var e=(0,l.useState)(""),t=e[0],r=e[1],h=(0,m.useStore)(),b=h.logs,j=h.dispatch,x=h.bookmarks,y=(0,f.useRouter)(),_=function(e){var t=g(e),r=E[t],n=r.date,o=r.index;j({type:m.ACTIONS.REMOVE_BOOKMARK,payload:{date:n,index:o}})},w=function(e){var t=g(e),r=E[t].meal;j({type:m.ACTIONS.SET_MEAL_ENTRY_ITEMS,payload:{name:r.name,addedItems:r.items,totalWeight:r.totalWeight,portionWeight:r.portionWeight}}),y.push("/meal-entry")},E=(0,l.useMemo)((function(){var e=x.map((function(e){return{date:e.date,index:e.index,meal:b[e.date][e.index]}})),r=new O.Z(e,{keys:["meal.name"],threshold:.25});return""===t.trim()?e:r.search(t.trim()).map((function(e){return e.item}))}),[t,x]);return(0,o.jsxs)(d.T,{heading:"Your Bookmarks",children:[(0,o.jsx)(a.r,{as:"form",templateColumns:"auto",gap:2,alignItems:"end",onSubmit:function(e){return e.preventDefault()},children:(0,o.jsxs)(i.NI,{children:[(0,o.jsx)(u.l,{htmlFor:"search",children:"Search bookmarks"}),(0,o.jsx)(c.I,{id:"search",value:t,placeholder:"Search",type:"search",onChange:function(e){r(e.currentTarget.value)}})]})}),(0,o.jsx)(s.xu,{mt:"4",children:E.map((function(e,t){var r=e.meal,a=(e.index,e.date);return(0,o.jsx)(s.xu,k(k({},(0,n.Z)({},"data-".concat(v),t)),{},{children:(0,o.jsx)(p.Z,{meal:r,onRepeat:w,onBookmark:_,bookmarked:!0})}),"".concat(a,"-").concat(t))}))})]})}j.pageTitle="Bookmarks";var v="mealindex";function g(e){var t=(0,h.x)(e,v);if(null===t||void 0===t)throw new Error("This shouldn't have happened.\nCouldn't find proper meal position.");return Number(t)}},4541:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bookmarks",function(){return r(3742)}])}},function(e){e.O(0,[774,13,511,753,962,446,76,888,179],(function(){return t=4541,e(e.s=t);var t}));var t=e.O();_N_E=t}]);