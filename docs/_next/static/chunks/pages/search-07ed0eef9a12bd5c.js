(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{8561:function(e,n,t){"use strict";t.d(n,{Y8:function(){return L},Ee:function(){return j}});var o=t(7294),a=t(7066),r=t(4520),i=t(8387),u=t(6734),s=t(3234),l=!1,c=null,d=!1,f=new Set,p="undefined"!==typeof window&&null!=window.navigator&&/^Mac/.test(window.navigator.platform);function h(e,n){f.forEach((t=>t(e,n)))}function v(e){d=!0,function(e){return!(e.metaKey||!p&&e.altKey||e.ctrlKey)}(e)&&(c="keyboard",h("keyboard",e))}function m(e){c="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(d=!0,h("pointer",e))}function b(e){e.target!==window&&e.target!==document&&(d||(c="keyboard",h("keyboard",e)),d=!1)}function y(){d=!1}function g(){return"pointer"!==c}function w(e){!function(){if("undefined"===typeof window||l)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...n){d=!0,e.apply(this,n)},document.addEventListener("keydown",v,!0),document.addEventListener("keyup",v,!0),window.addEventListener("focus",b,!0),window.addEventListener("blur",y,!1),"undefined"!==typeof PointerEvent?(document.addEventListener("pointerdown",m,!0),document.addEventListener("pointermove",m,!0),document.addEventListener("pointerup",m,!0)):(document.addEventListener("mousedown",m,!0),document.addEventListener("mousemove",m,!0),document.addEventListener("mouseup",m,!0)),l=!0}(),e(g());const n=()=>e(g());return f.add(n),()=>{f.delete(n)}}var k=(...e)=>e.filter(Boolean).join(" ");function E(e){const n=typeof e;return null!=e&&("object"===n||"function"===n)&&!Array.isArray(e)}var C=e=>e?"":void 0,_=e=>!!e||void 0;function x(...e){return function(n){e.some((e=>(null==e||e(n),null==n?void 0:n.defaultPrevented)))}}function S(e={}){const{onChange:n,value:t,defaultValue:a,name:r,isDisabled:i,isFocusable:s,isNative:l,...c}=e,[d,f]=(0,o.useState)(a||""),p="undefined"!==typeof t,h=p?t:d,v=(0,o.useRef)(null),m=(0,o.useCallback)((()=>{const e=v.current;if(!e)return;let n="input:not(:disabled):checked";const t=e.querySelector(n);if(t)return void t.focus();n="input:not(:disabled)";const o=e.querySelector(n);null==o||o.focus()}),[]),b=(0,o.useId)(),y=r||`radio-${b}`,g=(0,o.useCallback)((e=>{const t=function(e){return e&&E(e)&&E(e.target)}(e)?e.target.value:e;p||f(t),null==n||n(String(t))}),[n,p]);return{getRootProps:(0,o.useCallback)(((e={},n=null)=>({...e,ref:(0,u.lq)(n,v),role:"radiogroup"})),[]),getRadioProps:(0,o.useCallback)(((e={},n=null)=>{const t=l?"checked":"isChecked";return{...e,ref:n,name:y,[t]:null!=h?e.value===h:void 0,onChange(e){g(e)},"data-radiogroup":!0}}),[l,y,g,h]),name:y,ref:v,focus:m,setValue:f,value:h,onChange:g,isDisabled:i,isFocusable:s,htmlProps:c}}var[P,R]=(0,i.k)({name:"RadioGroupContext",strict:!1}),j=(0,a.Gp)(((e,n)=>{const{colorScheme:t,size:r,variant:i,children:u,className:s,isDisabled:l,isFocusable:c,...d}=e,{value:f,onChange:p,getRootProps:h,name:v,htmlProps:m}=S(d),b=(0,o.useMemo)((()=>({name:v,size:r,onChange:p,colorScheme:t,value:f,variant:i,isDisabled:l,isFocusable:c})),[v,r,p,t,f,i,l,c]);return o.createElement(P,{value:b},o.createElement(a.m$.div,{...h(m,n),className:k("chakra-radio-group",s)},u))}));j.displayName="RadioGroup";var O={border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function D(e){e.preventDefault(),e.stopPropagation()}var L=(0,a.Gp)(((e,n)=>{const t=R(),{onChange:i,value:u}=e,l=(0,a.jC)("Radio",{...t,...e}),c=(0,r.Lr)(e),{spacing:d="0.5rem",children:f,isDisabled:p=(null==t?void 0:t.isDisabled),isFocusable:h=(null==t?void 0:t.isFocusable),inputProps:v,...m}=c;let b=e.isChecked;null!=(null==t?void 0:t.value)&&null!=u&&(b=t.value===u);let y=i;(null==t?void 0:t.onChange)&&null!=u&&(y=function(...e){return function(n){e.forEach((e=>{null==e||e(n)}))}}(t.onChange,i));const g=(null==e?void 0:e.name)??(null==t?void 0:t.name),{getInputProps:k,getCheckboxProps:E,getLabelProps:S,getRootProps:P,htmlProps:j}=function(e={}){const{defaultChecked:n,isChecked:t,isFocusable:a,isDisabled:r,isReadOnly:i,isRequired:u,onChange:l,isInvalid:c,name:d,value:f,id:p,"data-radiogroup":h,"aria-describedby":v,...m}=e,b=`radio-${(0,o.useId)()}`,y=(0,s.NJ)(),g=R();let k=!y||g||h?b:y.id;k=p??k;const E=r??(null==y?void 0:y.isDisabled),S=i??(null==y?void 0:y.isReadOnly),P=u??(null==y?void 0:y.isRequired),j=c??(null==y?void 0:y.isInvalid),[L,M]=(0,o.useState)(!1),[N,I]=(0,o.useState)(!1),[T,F]=(0,o.useState)(!1),[q,Z]=(0,o.useState)(!1),[B,K]=(0,o.useState)(Boolean(n)),$="undefined"!==typeof t,A=$?t:B;(0,o.useEffect)((()=>w(M)),[]);const U=(0,o.useCallback)((e=>{S||E?e.preventDefault():($||K(e.target.checked),null==l||l(e))}),[$,E,S,l]),G=(0,o.useCallback)((e=>{" "===e.key&&Z(!0)}),[Z]),W=(0,o.useCallback)((e=>{" "===e.key&&Z(!1)}),[Z]),X=(0,o.useCallback)(((e={},n=null)=>({...e,ref:n,"data-active":C(q),"data-hover":C(T),"data-disabled":C(E),"data-invalid":C(j),"data-checked":C(A),"data-focus":C(N),"data-focus-visible":C(N&&L),"data-readonly":C(S),"aria-hidden":!0,onMouseDown:x(e.onMouseDown,(()=>Z(!0))),onMouseUp:x(e.onMouseUp,(()=>Z(!1))),onMouseEnter:x(e.onMouseEnter,(()=>F(!0))),onMouseLeave:x(e.onMouseLeave,(()=>F(!1)))})),[q,T,E,j,A,N,S,L]),{onFocus:z,onBlur:H}=y??{},V=(0,o.useCallback)(((e={},n=null)=>{const t=E&&!a;return{...e,id:k,ref:n,type:"radio",name:d,value:f,onChange:x(e.onChange,U),onBlur:x(H,e.onBlur,(()=>I(!1))),onFocus:x(z,e.onFocus,(()=>I(!0))),onKeyDown:x(e.onKeyDown,G),onKeyUp:x(e.onKeyUp,W),checked:A,disabled:t,readOnly:S,required:P,"aria-invalid":_(j),"aria-disabled":_(t),"aria-required":_(P),"data-readonly":C(S),"aria-describedby":v,style:O}}),[E,a,k,d,f,U,H,z,G,W,A,S,P,j,v]);return{state:{isInvalid:j,isFocused:N,isChecked:A,isActive:q,isHovered:T,isDisabled:E,isReadOnly:S,isRequired:P},getCheckboxProps:X,getInputProps:V,getLabelProps:(e={},n=null)=>({...e,ref:n,onMouseDown:x(e.onMouseDown,D),onTouchStart:x(e.onTouchStart,D),"data-disabled":C(E),"data-checked":C(A),"data-invalid":C(j)}),getRootProps:(e,n=null)=>({...e,ref:n,"data-disabled":C(E),"data-checked":C(A),"data-invalid":C(j)}),htmlProps:m}}({...m,isChecked:b,isFocusable:h,isDisabled:p,onChange:y,name:g}),[L,M]=function(e,n){const t={},o={};for(const[a,r]of Object.entries(e))n.includes(a)?t[a]=r:o[a]=r;return[t,o]}(j,r.oE),N=E(M),I=k(v,n),T=S(),F=Object.assign({},L,P()),q={display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer",position:"relative",...l.container},Z={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,...l.control},B={userSelect:"none",marginStart:d,...l.label};return o.createElement(a.m$.label,{className:"chakra-radio",...F,__css:q},o.createElement("input",{className:"chakra-radio__input",...I}),o.createElement(a.m$.span,{className:"chakra-radio__control",...N,__css:Z}),f&&o.createElement(a.m$.span,{className:"chakra-radio__label",...T,__css:B},f))}));L.displayName="Radio"},8266:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return t(1644)}])},1644:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var o=t(4924),a=t(828),r=t(5893),i=t(8641),u=t(3234),s=t(979),l=t(9632),c=t(1163),d=t(7294),f=t(7647),p=t(196),h=t(2780),v=t(100),m=t(5385);function b(){var e=(0,h.oR)(),n=e.logs,t=e.dispatch,b=(0,d.useState)(""),g=b[0],w=b[1],k=(0,c.useRouter)();(0,d.useEffect)((function(){var e=new URLSearchParams(location.search).get("search");e&&w(e)}),[]);var E=(0,d.useMemo)((function(){return!g||g.length<3?[]:new l.Z(Object.entries(n).reduce((function(e,n){var t=(0,a.Z)(n,2),o=t[0],r=t[1];return e.concat(r.map((function(e){return{date:o,value:e}})))}),[]),{keys:["value.name","value.items.name"],threshold:.25}).search(g).map((function(e){return e.item})).sort((function(e,n){return(0,m.rm)(!1)(e.date,n.date)})).slice(0,15)}),[g,n]),C=function(e){var n=function(e){var n=(0,v.x)(e,y);if(null===n||void 0===n)throw new Error("This shouldn't have happened.\nCouldn't find proper meal position.");return Number(n)}(e),o=E[n].value;t({type:h.aO.SET_MEAL_ENTRY_ITEMS,payload:{name:o.name,addedItems:o.items,totalWeight:o.totalWeight,portionWeight:o.portionWeight}}),k.push("/meal-entry")};return(0,r.jsxs)(f.T,{heading:"Search Meals",children:[(0,r.jsx)(i.rj,{as:"form",templateColumns:"auto",gap:2,alignItems:"end",onSubmit:function(e){return e.preventDefault()},mb:6,children:(0,r.jsxs)(u.NI,{width:"full",children:[(0,r.jsx)(u.lX,{htmlFor:"search",children:"Search for meals"}),(0,r.jsx)(s.II,{id:"search",value:g,placeholder:"Search",type:"search",onChange:function(e){w(e.currentTarget.value)}})]})}),E.map((function(e,n){var t;return(0,r.jsxs)(i.xu,(t={my:2},(0,o.Z)(t,"data-".concat(y),n),(0,o.Z)(t,"children",[(0,r.jsx)(i.X6,{size:"lg",my:2,children:(0,m.$x)(e.date)}),(0,r.jsx)(p.Z,{meal:e.value,onRepeat:C})]),t),n)}))]})}b.pageTitle="Search";var y="mealindex"},1438:function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}t.d(n,{Z:function(){return o}})},6567:function(e,n,t){"use strict";function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function a(e){return o(e)}function r(e,n){return!n||"object"!==((t=n)&&t.constructor===Symbol?"symbol":typeof t)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n;var t}function i(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=a(e);if(n){var i=a(this).constructor;t=Reflect.construct(o,arguments,i)}else t=o.apply(this,arguments);return r(this,t)}}t.d(n,{Z:function(){return i}})},8029:function(e,n,t){"use strict";function o(e,n){return o=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},o(e,n)}function a(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&o(e,n)}t.d(n,{Z:function(){return a}})}},function(e){e.O(0,[13,955,268,826,679,221,424,380,774,888,179],(function(){return n=8266,e(e.s=n);var n}));var n=e.O();_N_E=n}]);