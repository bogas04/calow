"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[208],{1976:function(t,r,e){var n=e(6042),a=e(9396),i=e(5893),o=e(8641),c=e(7294),s=e(2780);function u(t){var r=t.micro,e=t.nutrition,c=t.border,u=void 0===c||c,f=t.showLegend,l=void 0===f?!u:f,p=t.transparentBg,h=void 0!==p&&p;return(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)(o.rj,(0,a.Z)((0,n.Z)({gridTemplateColumns:"repeat(4, auto)",zIndex:0,gridGap:u?4:6,bg:h?"transparent":"white"},u?{boxShadow:"md",rounded:"3xl",p:4,px:l&&u?6:4}:{}),{children:s.$I.map((function(t,r){var n=e[t];return(0,i.jsxs)(o.kC,{direction:"column",textTransform:"capitalize",justify:"center",align:"flex-start",children:[(0,i.jsxs)(o.xv,{color:s.MT[t],fontWeight:"600",fontSize:"xs",children:[Number.isInteger(n)?n:n.toFixed(2),s.sw[t]]}),l&&(0,i.jsx)(o.xv,{fontSize:"xs",children:s.S$[t]})]},r)}))})),r&&s.RX.some((function(t){return r[t]}))?(0,i.jsx)("div",{className:u?"-mt-5 flex justify-center gap-4 rounded-b-3xl bg-gray-100 pt-7 pb-2":"-mt-5 flex gap-2 overflow-x-auto pt-7 pb-2",children:s.RX.filter((function(t){return r[t]})).map((function(t,e,n){var a=n.length-1===e,o=r[t];if(o)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:[(0,i.jsxs)("p",{className:"text-center text-gray-800",children:[o.toFixed(2),"g"]}),(0,i.jsx)("p",{className:"capitalize text-gray-500",children:t})]}),u?null:a?"":"/"]})}))}):null]})}r.Z=(0,c.memo)(u)},7647:function(t,r,e){e.d(r,{T:function(){return s}});var n=e(6042),a=e(9396),i=e(9534),o=e(5893),c=e(8641),s=function(t){var r=t.heading,e=t.children,s=(0,i.Z)(t,["heading","children"]);return(0,o.jsxs)(c.xu,(0,a.Z)((0,n.Z)({py:["2","6","12"],px:["4","16","32"]},s),{children:[r&&"string"===typeof r?(0,o.jsx)(c.X6,{my:"6",children:r}):r,e]}))}},1604:function(t,r,e){function n(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function a(t,r){return a=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t},a(t,r)}function i(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&a(t,r)}e.d(r,{lh:function(){return p},IJ:function(){return h}});var o=e(6042),c=e(828);function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function u(t){return s(t)}function f(t,r){return!r||"object"!==((e=r)&&e.constructor===Symbol?"symbol":typeof e)&&"function"!==typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r;var e}function l(t){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=u(t);if(r){var a=u(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return f(this,e)}}function p(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v3";return"v1"===e?A.create(t,r):"v2"===e?w.create(t,r):P.create(t,r)}function h(t){var r=new URLSearchParams,e=!0,n=!1,a=void 0;try{for(var i,o=function(){var t=(0,c.Z)(i.value,2),e=t[0],n=t[1];void 0!==n&&(Array.isArray(n)?n.forEach((function(t){return r.append(e,t)})):r.append(e,n))},s=Object.entries(t)[Symbol.iterator]();!(e=(i=s.next()).done);e=!0)o()}catch(v){n=!0,a=v}finally{try{e||null==s.return||s.return()}finally{if(n)throw a}}var u=r.toString(),f=!0,l=!1,p=void 0;try{for(var h,m=j[Symbol.iterator]();!(f=(h=m.next()).done);f=!0){var d=h.value;if(d.isValid(u))return d.parse(u)}}catch(v){l=!0,p=v}finally{try{f||null==m.return||m.return()}finally{if(l)throw p}}return null}var m=function(){function t(){n(this,t)}return t.reverseMap=function(t){return Object.fromEntries(Object.entries(t).map((function(t){var r=(0,c.Z)(t,2),e=r[0];return[r[1],e]})))},t.createCleanJSON=function(t){return JSON.stringify(t,(function(t,r){if(null!==r&&void 0!==r)return"number"===typeof r?Math.round(100*r)/100:r}))},t.compressMeal=function(t){var r=structuredClone(t),e=100/(r.portionWeight||1),n=Object.fromEntries(Object.entries(r.micro||{}).map((function(t){var r=(0,c.Z)(t,2);return[r[0],r[1]*e]})));return r.items=[{name:r.name,nutrition:r.nutrition,micro:n,weight:r.portionWeight}],r.totalWeight=r.portionWeight,r},t.getQueryParam=function(t,r){try{if(t.startsWith("http"))return new URL(t).searchParams.get(r);var e=t.includes("?")?t.split("?")[1]:t;return new URLSearchParams(e).get(r)}catch(n){return null}},t.validateMeal=function(t){if(!t||"object"!==typeof t)throw new Error("Invalid meal data");if(void 0===t.timestamp&&(t.timestamp=Date.now()),!Array.isArray(t.items)||"number"!==typeof t.totalWeight)throw new Error("Invalid meal data")},t}(),d={calories:"j",carbohydrates:"c",protein:"p",fat:"f",items:"i",nutrition:"n",name:"nm",weight:"w",micro:"m",fiber:"fb",calcium:"ca","saturated fats":"sf",sodium:"na",timestamp:"t",totalWeight:"tw",portionWeight:"pw",icon:"ic"},v=m.reverseMap(d),y=["calorie delta","delta > 20","timestamp"],g=function(){function t(){n(this,t),this.PARAM="shared_meal"}var r=t.prototype;return r.isValid=function(t){return!!m.getQueryParam(t,this.PARAM)},r.create=function(t,r){var e=this,n=(0,o.Z)({},t);delete n.timestamp;var a=function(t){return"".concat(r,"meal-entry?").concat(e.PARAM,"=").concat(encodeURIComponent(m.createCleanJSON(t)))},i=a(n);if(i.length>=2e3){var c=m.compressMeal(t);delete c.timestamp,i=a(c)}return i},r.parse=function(t){var r=m.getQueryParam(t,this.PARAM);if(!r)throw new Error("No meal data found in URL");var e=JSON.parse(decodeURIComponent(r));return m.validateMeal(e),e},t}(),b=function(){function t(){n(this,t),this.PARAM="m"}var r=t.prototype;return r.transformKeys=function(t,r,e){var n=this;if(null===t||void 0===t)return t;if(Array.isArray(t))return t.map((function(t){return n.transformKeys(t,r,e)}));if("object"!==typeof t)return t;var a={},i=!0,o=!1,s=void 0;try{for(var u,f=Object.entries(t)[Symbol.iterator]();!(i=(u=f.next()).done);i=!0){var l=(0,c.Z)(u.value,2),p=l[0],h=l[1],m=p.trim();if(!(null===e||void 0===e?void 0:e(m)))a[r[m]||m]=this.transformKeys(h,r,e)}}catch(d){o=!0,s=d}finally{try{i||null==f.return||f.return()}finally{if(o)throw s}}return a},r.isValid=function(t){return!!m.getQueryParam(t,this.PARAM)},r.create=function(t,r){var e=this,n=t,a=function(t){return e.transformKeys(t,d,(function(t){return y.includes(t)}))},i="".concat(r,"meal-entry?").concat(this.PARAM,"=").concat(encodeURIComponent(m.createCleanJSON(a(n))));return i.length>=2e3&&(n=m.compressMeal(t),i="".concat(r,"meal-entry?").concat(this.PARAM,"=").concat(encodeURIComponent(m.createCleanJSON(a(n))))),i},r.parse=function(t){var r=m.getQueryParam(t,this.PARAM);if(!r)throw new Error("No meal data found in URL");var e=JSON.parse(decodeURIComponent(r)),n=this.transformKeys(e,v);return m.validateMeal(n),n},t}(),x=function(t){i(e,t);var r=l(e);function e(){var t;return n(this,e),(t=r.apply(this,arguments)).COMPACT_PARAM="m",t}var a=e.prototype;return a.isValid=function(t){var r=m.getQueryParam(t,this.COMPACT_PARAM);return!!r&&r.startsWith("3(")},a.create=function(t,r){var e=this,n=t,a=function(t){return e.transformKeys(t,d,(function(t){return y.includes(t)}))},i=function(t){return"number"===typeof t?Math.round(100*t)/100+"":"string"===typeof t?function(t){for(var r="",e=0;e<t.length;e++){var n=t[e],a=t.codePointAt(e);if(" "===n)r+=".";else{if(a>127){a>65535&&e++;continue}/[a-zA-Z0-9]/.test(n)?r+=n:r+="-"+a.toString(16).toUpperCase().padStart(2,"0")}}return r}(t):Array.isArray(t)?"!"+t.map(i).join("_")+"*":t&&"object"===typeof t?"("+Object.entries(t).map((function(t){var r=(0,c.Z)(t,2),e=r[0],n=r[1];return"".concat(e,"~").concat(i(n))})).join("_")+")":""},o="".concat(r,"meal-entry?").concat(this.COMPACT_PARAM,"=3").concat(i(a(n)));return o.length>=2e3&&(n=m.compressMeal(t),o="".concat(r,"meal-entry?").concat(this.COMPACT_PARAM,"=3").concat(i(a(n)))),o},a.parse=function(t){var r=m.getQueryParam(t,this.COMPACT_PARAM);if(!r||!r.startsWith("3"))throw new Error("No V3 meal data found");var e=r.substring(1),n=function(t){for(var r="",e=0;e<t.length;e++){var n=t[e];if("."===n)r+=" ";else if("-"===n){var a=t.substring(e+1,e+3);r+=String.fromCharCode(parseInt(a,16)),e+=2}else if("'"===n){var i=t.indexOf("'",e+1);if(-1===i)break;var o=t.substring(e+1,i);r+=String.fromCodePoint(parseInt(o,16)),e=i}else r+=n}return r},a=function(t){if(t.startsWith("(")){for(var r={},e=t.substring(1);e&&!e.startsWith(")");){var i=e.match(/^([^~]+)~/);if(!i)break;var o=i[1],c=a(e.substring(o.length+1)),s=c.val,u=c.rest;r[o]=s,(e=u).startsWith("_")&&(e=e.substring(1))}return{val:r,rest:e.substring(1)}}if(t.startsWith("!")){for(var f=[],l=t.substring(1);l&&!l.startsWith("*");){var p=a(l),h=p.val,m=p.rest;f.push(h),(l=m).startsWith("_")&&(l=l.substring(1))}return{val:f,rest:l.substring(1)}}for(var d=0;d<t.length;d++){var v=t[d];if("_"===v||"~"===v||")"===v||"*"===v||"!"===v||"("===v)break}var y=t.substring(0,d),g=t.substring(d);return""===y||isNaN(y)||/^\d{4}-\d{2}-\d{2}/.test(y)?{val:n(y),rest:g}:{val:Number(y),rest:g}},i=a(e).val,o=this.transformKeys(i,v);return m.validateMeal(o),o},e}(b),A=new g,w=new b,P=new x,j=[P,w,A]}}]);