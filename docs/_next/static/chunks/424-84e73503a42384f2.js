"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[424],{1976:function(t,r,e){var n=e(6042),a=e(9396),i=e(5893),o=e(8641),s=e(7294),u=e(2780);function c(t){var r=t.micro,e=t.nutrition,s=t.border,c=void 0===s||s,l=t.showLegend,f=void 0===l?!c:l,m=t.transparentBg,d=void 0!==m&&m;return(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)(o.rj,(0,a.Z)((0,n.Z)({gridTemplateColumns:"repeat(4, auto)",zIndex:0,gridGap:c?4:6,bg:d?"transparent":"white"},c?{boxShadow:"md",rounded:"3xl",p:4,px:f&&c?6:4}:{}),{children:u.$I.map((function(t,r){var n=e[t];return(0,i.jsxs)(o.kC,{direction:"column",textTransform:"capitalize",justify:"center",align:"flex-start",children:[(0,i.jsxs)(o.xv,{color:u.MT[t],fontWeight:"600",fontSize:"xs",children:[Number.isInteger(n)?n:n.toFixed(2),u.sw[t]]}),f&&(0,i.jsx)(o.xv,{fontSize:"xs",children:u.S$[t]})]},r)}))})),r&&u.RX.some((function(t){return r[t]}))?(0,i.jsx)("div",{className:c?"-mt-5 flex justify-center gap-4 rounded-b-3xl bg-gray-100 pt-7 pb-2":"-mt-5 flex gap-2 overflow-x-auto pt-7 pb-2",children:u.RX.filter((function(t){return r[t]})).map((function(t,e,n){var a=n.length-1===e,o=r[t];if(o)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:[(0,i.jsxs)("p",{className:"text-center text-gray-800",children:[o.toFixed(2),"g"]}),(0,i.jsx)("p",{className:"capitalize text-gray-500",children:t})]}),c?null:a?"":"/"]})}))}):null]})}r.Z=(0,s.memo)(c)},7647:function(t,r,e){e.d(r,{T:function(){return u}});var n=e(6042),a=e(9396),i=e(9534),o=e(5893),s=e(8641),u=function(t){var r=t.heading,e=t.children,u=(0,i.Z)(t,["heading","children"]);return(0,o.jsxs)(s.xu,(0,a.Z)((0,n.Z)({py:["2","6","12"],px:["4","16","32"]},u),{children:[r&&"string"===typeof r?(0,o.jsx)(s.X6,{my:"6",children:r}):r,e]}))}},7608:function(t,r,e){e.d(r,{lh:function(){return b},IJ:function(){return x}});var n=e(828),a=e(1438),i=e(8029),o=e(6042),s=e(6567),u=function(){function t(){(0,a.Z)(this,t)}return t.reverseMap=function(t){return Object.fromEntries(Object.entries(t).map((function(t){var r=(0,n.Z)(t,2),e=r[0];return[r[1],e]})))},t.createCleanJSON=function(t){return JSON.stringify(t,(function(t,r){if(null!==r&&void 0!==r)return"number"===typeof r?Math.round(100*r)/100:r}))},t.compressMeal=function(t){var r=structuredClone(t),e=100/(r.portionWeight||1),a=Object.fromEntries(Object.entries(r.micro||{}).map((function(t){var r=(0,n.Z)(t,2);return[r[0],r[1]*e]})));return r.items=[{name:r.name,nutrition:r.nutrition,micro:a,weight:r.portionWeight}],r.totalWeight=r.portionWeight,r},t.getQueryParam=function(t,r){try{if(t.startsWith("http"))return new URL(t).searchParams.get(r);var e=t.includes("?")?t.split("?")[1]:t;return new URLSearchParams(e).get(r)}catch(n){return null}},t.validateMeal=function(t){if(!t||"object"!==typeof t)throw new Error("Invalid meal data");if(void 0===t.timestamp&&(t.timestamp=Date.now()),!Array.isArray(t.items)||"number"!==typeof t.totalWeight)throw new Error("Invalid meal data")},t}(),c=function(){function t(){(0,a.Z)(this,t),this.PARAM="shared_meal"}var r=t.prototype;return r.isValid=function(t){return!!u.getQueryParam(t,this.PARAM)},r.create=function(t,r){var e=this,n=(0,o.Z)({},t);delete n.timestamp;var a=function(t){return"".concat(r,"meal-entry?").concat(e.PARAM,"=").concat(encodeURIComponent(u.createCleanJSON(t)))},i=a(n);if(i.length>=2e3){var s=u.compressMeal(t);delete s.timestamp,i=a(s)}return i},r.parse=function(t){var r=u.getQueryParam(t,this.PARAM);if(!r)throw new Error("No meal data found in URL");var e=JSON.parse(decodeURIComponent(r));return u.validateMeal(e),e},t}(),l=function(){function t(){(0,a.Z)(this,t),this.PARAM="m"}var r=t.prototype;return r.transformKeys=function(t,r,e){var a=this;if(null===t||void 0===t)return t;if(Array.isArray(t))return t.map((function(t){return a.transformKeys(t,r,e)}));if("object"!==typeof t)return t;var i={},o=!0,s=!1,u=void 0;try{for(var c,l=Object.entries(t)[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=(0,n.Z)(c.value,2),m=f[0],d=f[1],h=m.trim();if(!(null===e||void 0===e?void 0:e(h)))i[r[h]||h]=this.transformKeys(d,r,e)}}catch(v){s=!0,u=v}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return i},r.isValid=function(t){return!!u.getQueryParam(t,this.PARAM)},r.create=function(t,r){var e=this,n=t,a=function(t){return e.transformKeys(t,m,(function(t){return h.includes(t)}))},i="".concat(r,"meal-entry?").concat(this.PARAM,"=").concat(encodeURIComponent(u.createCleanJSON(a(n))));return i.length>=2e3&&(n=u.compressMeal(t),i="".concat(r,"meal-entry?").concat(this.PARAM,"=").concat(encodeURIComponent(u.createCleanJSON(a(n))))),i},r.parse=function(t){var r=u.getQueryParam(t,this.PARAM);if(!r)throw new Error("No meal data found in URL");var e=JSON.parse(decodeURIComponent(r)),n=this.transformKeys(e,d);return u.validateMeal(n),n},t}(),f=function(t){(0,i.Z)(e,t);var r=(0,s.Z)(e);function e(){return(0,a.Z)(this,e),r.apply(this,arguments)}var o=e.prototype;return o.isValid=function(t){var r=u.getQueryParam(t,"m");return!!r&&r.startsWith("3{")},o.create=function(t,r){var e=this,a=t,i=function(t){return"number"===typeof t?Math.round(100*t)/100+"":"string"===typeof t?function(t){for(var r="",e=0;e<t.length;e++){var n=t[e],a=t.codePointAt(e);" "===n?r+=".":a>127?(r+=n,a>65535&&(r+=t[++e])):/[a-zA-Z0-9]/.test(n)?r+=n:r+="-"+a.toString(16).toUpperCase().padStart(2,"0")}return r}(t):Array.isArray(t)?"["+t.map(i).join(";")+"]":t&&"object"===typeof t?"{"+Object.entries(t).map((function(t){var r=(0,n.Z)(t,2),e=r[0],a=r[1];return"".concat(e,":").concat(i(a))})).join(";")+"}":""},o=function(t){var n="3"+i(function(t){return e.transformKeys(t,m,(function(t){return h.includes(t)}))}(t));return"".concat(r,"meal-entry?m=").concat(encodeURIComponent(n).replace(/\(/g,"%28").replace(/\)/g,"%29"))},s=o(a);return s.length>=2e3&&(s=o(a=u.compressMeal(t))),s},o.parse=function(t){var r=u.getQueryParam(t,"m");if(!r||!r.startsWith("3"))throw new Error("No V3 meal data found");var e=r.substring(1),n=function(t){for(var r="",e=0;e<t.length;e++){var n=t[e];if("."===n)r+=" ";else if("-"===n){var a=t.substring(e+1,e+3);r+=String.fromCharCode(parseInt(a,16)),e+=2}else r+=n}return r},a=function(t){if(t.startsWith("{")){for(var r={},e=t.substring(1);e&&!e.startsWith("}");){var i=e.match(/^([^:]+):/);if(!i)break;var o=i[1],s=a(e.substring(o.length+1)),u=s.val,c=s.rest;r[o]=u,(e=c).startsWith(";")&&(e=e.substring(1))}return{val:r,rest:e.substring(1)}}if(t.startsWith("[")){for(var l=[],f=t.substring(1);f&&!f.startsWith("]");){var m=a(f),d=m.val,h=m.rest;l.push(d),(f=h).startsWith(";")&&(f=f.substring(1))}return{val:l,rest:f.substring(1)}}for(var v=0;v<t.length;v++){var p=t[v];if(";"===p||":"===p||"}"===p||"]"===p||"["===p||"{"===p)break}var g=t.substring(0,v),y=t.substring(v);return""===g||isNaN(g)||/^\d{4}-\d{2}-\d{2}/.test(g)?{val:n(g),rest:y}:{val:Number(g),rest:y}},i=a(e).val,o=this.transformKeys(i,d);return u.validateMeal(o),o},e}(l),m={calories:"j",carbohydrates:"c",protein:"p",fat:"f",items:"i",nutrition:"n",name:"nm",weight:"w",micro:"m",fiber:"fb",calcium:"ca","saturated fats":"sf",sodium:"na",timestamp:"t",totalWeight:"tw",portionWeight:"pw",icon:"ic"},d=u.reverseMap(m),h=["calorie delta","delta > 20","timestamp"],v=new c,p=new l,g=new f,y=[g,p,v];function b(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v2";return"v1"===e?v.create(t,r):"v2"===e?p.create(t,r):g.create(t,r)}function x(t){var r=new URLSearchParams,e=!0,a=!1,i=void 0;try{for(var o,s=function(){var t=(0,n.Z)(o.value,2),e=t[0],a=t[1];void 0!==a&&(Array.isArray(a)?a.forEach((function(t){return r.append(e,t)})):r.append(e,a))},u=Object.entries(t)[Symbol.iterator]();!(e=(o=u.next()).done);e=!0)s()}catch(p){a=!0,i=p}finally{try{e||null==u.return||u.return()}finally{if(a)throw i}}var c=r.toString(),l=!0,f=!1,m=void 0;try{for(var d,h=y[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var v=d.value;if(v.isValid(c))return v.parse(c)}}catch(p){f=!0,m=p}finally{try{l||null==h.return||h.return()}finally{if(f)throw m}}return null}}}]);