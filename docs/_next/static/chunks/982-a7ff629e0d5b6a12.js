"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[982],{1976:function(t,r,e){var n=e(6042),a=e(9396),i=e(5893),o=e(8641),c=e(7294),u=e(2780);function s(t){var r=t.micro,e=t.nutrition,c=t.border,s=void 0===c||c,f=t.showLegend,l=void 0===f?!s:f,p=t.transparentBg,m=void 0!==p&&p;return(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)(o.rj,(0,a.Z)((0,n.Z)({gridTemplateColumns:"repeat(4, auto)",zIndex:0,gridGap:s?4:6,bg:m?"transparent":"white"},s?{boxShadow:"md",rounded:"3xl",p:4,px:l&&s?6:4}:{}),{children:u.$I.map((function(t,r){var n=e[t];return(0,i.jsxs)(o.kC,{direction:"column",textTransform:"capitalize",justify:"center",align:"flex-start",children:[(0,i.jsxs)(o.xv,{color:u.MT[t],fontWeight:"600",fontSize:"xs",children:[Number.isInteger(n)?n:n.toFixed(2),u.sw[t]]}),l&&(0,i.jsx)(o.xv,{fontSize:"xs",children:u.S$[t]})]},r)}))})),r&&u.RX.some((function(t){return r[t]}))?(0,i.jsx)("div",{className:s?"-mt-5 flex justify-center gap-4 rounded-b-3xl bg-gray-100 pt-7 pb-2":"-mt-5 flex gap-2 overflow-x-auto pt-7 pb-2",children:u.RX.filter((function(t){return r[t]})).map((function(t,e,n){var a=n.length-1===e,o=r[t];if(o)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:[(0,i.jsxs)("p",{className:"text-center text-gray-800",children:[o.toFixed(2),"g"]}),(0,i.jsx)("p",{className:"capitalize text-gray-500",children:t})]}),s?null:a?"":"/"]})}))}):null]})}r.Z=(0,c.memo)(s)},7647:function(t,r,e){e.d(r,{T:function(){return u}});var n=e(6042),a=e(9396),i=e(9534),o=e(5893),c=e(8641),u=function(t){var r=t.heading,e=t.children,u=(0,i.Z)(t,["heading","children"]);return(0,o.jsxs)(c.xu,(0,a.Z)((0,n.Z)({py:["2","6","12"],px:["4","16","32"]},u),{children:[r&&"string"===typeof r?(0,o.jsx)(c.X6,{my:"6",children:r}):r,e]}))}},5531:function(t,r,e){e.d(r,{lh:function(){return A},IJ:function(){return R}});var n=e(828);function a(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function i(t,r){return i=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t},i(t,r)}function o(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&i(t,r)}var c=e(6042);function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function s(t){return u(t)}function f(t,r){return!r||"object"!==((e=r)&&e.constructor===Symbol?"symbol":typeof e)&&"function"!==typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r;var e}function l(t){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=s(t);if(r){var a=s(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return f(this,e)}}var p=function(){function t(){a(this,t)}return t.reverseMap=function(t){return Object.fromEntries(Object.entries(t).map((function(t){var r=(0,n.Z)(t,2),e=r[0];return[r[1],e]})))},t.createCleanJSON=function(t){return JSON.stringify(t,(function(t,r){if(null!==r&&void 0!==r)return"number"===typeof r?Math.round(100*r)/100:r}))},t.compressMeal=function(t){var r=structuredClone(t),e=100/(r.portionWeight||1),a=Object.fromEntries(Object.entries(r.micro||{}).map((function(t){var r=(0,n.Z)(t,2);return[r[0],r[1]*e]})));return r.items=[{name:r.name,nutrition:r.nutrition,micro:a,weight:r.portionWeight}],r.totalWeight=r.portionWeight,r},t.getQueryParam=function(t,r){try{if(t.startsWith("http"))return new URL(t).searchParams.get(r);var e=t.includes("?")?t.split("?")[1]:t;return new URLSearchParams(e).get(r)}catch(n){return null}},t.validateMeal=function(t){if(!t||"object"!==typeof t)throw new Error("Invalid meal data");if(void 0===t.timestamp&&(t.timestamp=Date.now()),!Array.isArray(t.items)||"number"!==typeof t.totalWeight)throw new Error("Invalid meal data")},t}(),m=function(){function t(){a(this,t),this.PARAM="shared_meal"}var r=t.prototype;return r.isValid=function(t){return!!p.getQueryParam(t,this.PARAM)},r.create=function(t,r){var e=this,n=(0,c.Z)({},t);delete n.timestamp;var a=function(t){return"".concat(r,"meal-entry?").concat(e.PARAM,"=").concat(encodeURIComponent(p.createCleanJSON(t)))},i=a(n);if(i.length>=2e3){var o=p.compressMeal(t);delete o.timestamp,i=a(o)}return i},r.parse=function(t){var r=p.getQueryParam(t,this.PARAM);if(!r)throw new Error("No meal data found in URL");var e=JSON.parse(decodeURIComponent(r));return p.validateMeal(e),e},t}(),h=function(){function t(){a(this,t),this.PARAM="m"}var r=t.prototype;return r.transformKeys=function(t,r,e){var a=this;if(null===t||void 0===t)return t;if(Array.isArray(t))return t.map((function(t){return a.transformKeys(t,r,e)}));if("object"!==typeof t)return t;var i={},o=!0,c=!1,u=void 0;try{for(var s,f=Object.entries(t)[Symbol.iterator]();!(o=(s=f.next()).done);o=!0){var l=(0,n.Z)(s.value,2),p=l[0],m=l[1],h=p.trim();if(!(null===e||void 0===e?void 0:e(h)))i[r[h]||h]=this.transformKeys(m,r,e)}}catch(d){c=!0,u=d}finally{try{o||null==f.return||f.return()}finally{if(c)throw u}}return i},r.isValid=function(t){return!!p.getQueryParam(t,this.PARAM)},r.create=function(t,r){var e=this,n=t,a=function(t){return e.transformKeys(t,v,(function(t){return g.includes(t)}))},i="".concat(r,"meal-entry?").concat(this.PARAM,"=").concat(encodeURIComponent(p.createCleanJSON(a(n))));return i.length>=2e3&&(n=p.compressMeal(t),i="".concat(r,"meal-entry?").concat(this.PARAM,"=").concat(encodeURIComponent(p.createCleanJSON(a(n))))),i},r.parse=function(t){var r=p.getQueryParam(t,this.PARAM);if(!r)throw new Error("No meal data found in URL");var e=JSON.parse(decodeURIComponent(r)),n=this.transformKeys(e,y);return p.validateMeal(n),n},t}(),d=function(t){o(e,t);var r=l(e);function e(){return a(this,e),r.apply(this,arguments)}var i=e.prototype;return i.isValid=function(t){var r=p.getQueryParam(t,"m");return!!r&&r.startsWith("3(")},i.create=function(t,r){var e=this,a=t,i=function(t){return e.transformKeys(t,v,(function(t){return g.includes(t)}))},o=function(t){return"number"===typeof t?Math.round(100*t)/100+"":"string"===typeof t?function(t){for(var r="",e=0;e<t.length;e++){var n=t[e],a=t.codePointAt(e);" "===n?r+=".":a>127?(r+=n,a>65535&&(r+=t[++e])):/[a-zA-Z0-9]/.test(n)?r+=n:r+="-"+a.toString(16).toUpperCase().padStart(2,"0")}return r}(t):Array.isArray(t)?"["+t.map(o).join(",")+"]":t&&"object"===typeof t?"("+Object.entries(t).map((function(t){var r=(0,n.Z)(t,2),e=r[0],a=r[1];return"".concat(e,":").concat(o(a))})).join(",")+")":""},c="".concat(r,"meal-entry?m=3").concat(o(i(a)));return c.length>=2e3&&(a=p.compressMeal(t),c="".concat(r,"meal-entry?m=3").concat(o(i(a)))),c},i.parse=function(t){var r=p.getQueryParam(t,"m");if(!r||!r.startsWith("3"))throw new Error("No V3 meal data found");var e=r.substring(1),n=function(t){for(var r="",e=0;e<t.length;e++){var n=t[e];if("."===n)r+=" ";else if("-"===n){var a=t.substring(e+1,e+3);r+=String.fromCharCode(parseInt(a,16)),e+=2}else r+=n}return r},a=function(t){if(t.startsWith("(")){for(var r={},e=t.substring(1);e&&!e.startsWith(")");){var i=e.match(/^([^:]+):/);if(!i)break;var o=i[1],c=a(e.substring(o.length+1)),u=c.val,s=c.rest;r[o]=u,(e=s).startsWith(",")&&(e=e.substring(1))}return{val:r,rest:e.substring(1)}}if(t.startsWith("[")){for(var f=[],l=t.substring(1);l&&!l.startsWith("]");){var p=a(l),m=p.val,h=p.rest;f.push(m),(l=h).startsWith(",")&&(l=l.substring(1))}return{val:f,rest:l.substring(1)}}for(var d=0;d<t.length;d++){var v=t[d];if(","===v||":"===v||")"===v||"]"===v||"["===v||"("===v)break}var y=t.substring(0,d),g=t.substring(d);return""===y||isNaN(y)||/^\d{4}-\d{2}-\d{2}/.test(y)?{val:n(y),rest:g}:{val:Number(y),rest:g}},i=a(e).val,o=this.transformKeys(i,y);return p.validateMeal(o),o},e}(h),v={calories:"j",carbohydrates:"c",protein:"p",fat:"f",items:"i",nutrition:"n",name:"nm",weight:"w",micro:"m",fiber:"fb",calcium:"ca","saturated fats":"sf",sodium:"na",timestamp:"t",totalWeight:"tw",portionWeight:"pw",icon:"ic"},y=p.reverseMap(v),g=["calorie delta","delta > 20","timestamp"],b=new m,x=new h,w=new d,j=[w,x,b];function A(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v2";return"v1"===e?b.create(t,r):"v2"===e?x.create(t,r):w.create(t,r)}function R(t){var r=new URLSearchParams,e=!0,a=!1,i=void 0;try{for(var o,c=function(){var t=(0,n.Z)(o.value,2),e=t[0],a=t[1];void 0!==a&&(Array.isArray(a)?a.forEach((function(t){return r.append(e,t)})):r.append(e,a))},u=Object.entries(t)[Symbol.iterator]();!(e=(o=u.next()).done);e=!0)c()}catch(v){a=!0,i=v}finally{try{e||null==u.return||u.return()}finally{if(a)throw i}}var s=r.toString(),f=!0,l=!1,p=void 0;try{for(var m,h=j[Symbol.iterator]();!(f=(m=h.next()).done);f=!0){var d=m.value;if(d.isValid(s))return d.parse(s)}}catch(v){l=!0,p=v}finally{try{f||null==h.return||h.return()}finally{if(l)throw p}}return null}}}]);